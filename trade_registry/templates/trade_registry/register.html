{% extends "trade_registry/base.html" %} {% block title %}Register Trade | The Trade Registry{% endblock %} {% block content %} {% load static %}
{% load django_bootstrap5 %}
{% if error %}
<p style="color: red">{{ error }}</p>
{% endif %}

<form id="register" method="POST">
  <h1 class="container-header">Register a new trade</h1>

  {% csrf_token %}
 <!--<div class="mb-3 position-relative" id="search-container">
    <label for="ticker">Search Ticker</label>
    <div>
        <span><i></i></span>
        <input 
        type="text" 
        id="ticker" 
        name="ticker" 
        required
        placeholder="Type a ticker...">
    </div>
    
    <ul id="tickerDropdown" class="list-group position-absolute w-100 shadow-lg d-none" style="z-index: 1000; top: 100%;">
        </ul> 
</div>-->
<div class="mb-3 position-relative">
    <label for="ticker">Search Ticker</label>
    <input 
    type="text" 
    name="ticker"
    id="ticker" 
    class="form-control" 
    placeholder="Type to search..." 
    autocomplete="off">
    
    <ul id="tickerDropdown" class="list-group position-absolute w-100 shadow-lg d-none custom_dropdown" style="z-index: 1050; max-height: 200px; overflow-y: auto;">
        </ul>
</div>
  <div>
    <label for="buy_date">Buy date</label><br />
    <input
      type="date"
      id="buy_date"
      name="buy_date"
      style="font-family: 'Lato';"
      class="form-control"
      required
      value="{{ buy_date|default:'' }}"
    /><br /><br />
  </div>
  <div>
    <label for="buy_price">Buy price</label><br />
    <input
      type="number"
      id="buy_price"
      name="buy_price"
      class="form-control"
      required
      value="{{ buy_price|default:'' }}"
    /><br /><br />
  </div>
    <div>
    <label for="quantity">Quantity</label><br />
    <input
      type="number"
      id="quantity"
      name="quantity"
      class="form-control"
      required
      value="{{ quantity|default:'' }}"
    /><br /><br />
  </div>
  <div>
    <label for="sell_date">Sell date</label><br />
    <input 
    type="date"
    id="sell_date" 
    name="sell_date"  
    style="font-family: 'Lato';"
    class="form-control"
    /><br /><br />
  </div>
  <div>
    <label for="sell_price">Sell price</label><br />
    <input 
    type="number" 
    id="sell_price" 
    name="sell_price" 
    class="form-control"
    /><br /><br />
  </div>
  <button type="submit" id="submit-button">Register trade</button>
</form>

{% block scripts %}
{% bootstrap_javascript %}
    <script src="{% static '/trade_registry/js/ticker_search_dropdown.js' %}"></script>
{% endblock %} 
{% endblock %}


